create database samplesql;
USE samplesql;
create table user(
id int auto_increment primary key,
name varchar(100) not null,
email varchar(100) unique not null,
gender enum('Male','Female','Other'),
date_of_birth Date,
created_at timestamp default current_timestamp
);
-- select * from user;
-- rename table user to programmers;
-- select * from programmers;
-- rename table programmers to user;

-- -- ALTER TABLE user add column is_active BOOLEAN DEFAULT true;
-- -- ALTER TABLE user drop column is_active;
-- alter table user modify column email varchar(100) after id;

INSERT INTO user (name , email, gender ,date_of_birth) values
-- ('Alice1','bob@gmail.com','Male','2002-05-24'), 
-- ('Alice2','alice4@gmail.com','Male','2002-05-24'),
-- ('Alice3','alice7@gmail.com','Male','2002-05-24'),
-- ('Alice4','alice11@gmail.com','Male','2002-05-24');
('Rohan','rys122344@gmail.com','Male','2002-06-03'),
('Rohan','rys122344@gmail1.com','Male','2002-05-01'),
('Rohan','rys122344@gmail2.com','Male','2002-09-21'),
('Rohan3','rys122344@gmail3.com','Male','2002-05-24');

-- select * from user;-- 

-- 2. The below query is used to change the position of the column

-- ALTER table user modify column email varchar(100) First;
-- select * from user

-- ALTER TABLE user modify column gender enum('Male','Female','Others') after id;
-- select * from user;

-- select * from user where email='rys122344@gmail3.com' AND date_of_birth='2002-05-24';

-- 3. Inserting new columns by Specifying them.

-- INSERT INTO user (name , email , gender , date_of_birth) values
-- ('Aman','aman@gmail.com','Male','2007-12-23');
-- select * from user;

 
 -- 4. Inserting multiple columns at a time.alter

INSERT INTO user (name, email , gender , date_of_birth) values
('Angad','angad@gmail.com','Female','2008-02-22'),
('Yash','yash@gmail.com','Others','2003-11-25');
select * from user;


use startersql;
-- 4 for selecting secific columns fron the tables--
select gender,name from users;  

-- 5 "Where" clause used to specify the the content to be displayed to a specific column--
-- select * from users where gender = "Female";
-- select * from users where date_of_birth > "1998-12-20";
-- select * from users where id > 12;
-- select * from users where id < 12;
-- select * from users where date_of_birth is NULL;

-- 6. Between clause---
select * from users where date_of_birth between "1990-02-21" AND "1999-01-23";

-- 7. In clause --
select * from users where gender in ("Male");

-- 8. "AND" & "OR" clause 

select * from users where gender = "Female" and salary >"70000";
select * from users where gender = "Female" or salary > "65000";

-- 9. order by is used to make the specicifc colum in ascending (ASC) or desecnding  (DEC) order --

select * from users where gender = "Female" and salary >"65000" order by date_of_birth ASC;  

-- 10. limit --

select * from users where gender = "Female" and salary > 70000 LIMIT 5;

-- 11. Update statemnets -- -- AND ALWAYS USE "WHERE" CLAUSE SO THE DATA NOT GET MESSED UP.

UPDATE users set salary = 45000 where id = 1;
UPDATE users set salary = 45000 , email = "aarav@aarav.com" where id = 1;
UPDATE users set salary = "70000" where id = 5;

UPDATE users set name = "Aisha Khan" where email = "aisha@example.com";

UPDATE users set salary= salary+10000 where id and salary < 60000; -- IMPORTANT FOCUS ON THESE "    
UPDATE users set gender = "Other" where id and name = "Ishaan";
select * from users;


-- 12 . Deletion operation --

DELETE from users where id and salary < 70000;
DELETE from users where id = 2;
select * from users;

-- 13. Aggreghate Functions --

-- a. counting the entity in tables

select count(*) from users;
select count(*) from users where gender = "Female";

-- b. Min & Max calculation 

select MIN(salary) AS Min_Salary , MAX(salary) as Max_Salary from users;

-- c. Sum 
select sum(salary) as salary_rohan from users;
select gender , sum(salary) as salary_yadav from users group by gender;

-- d. AVG 
select avg(salary) as AVG_Salary from users;
select gender , avg(salary) as AVG_Salary from users group by gender;

-- e, Lenght
select name,length(name) as name_len from users;

-- f. Lower case & Upper case
select name , lower(name ) as low_name from users;
select name , upper(name) as Upp_name from users;

-- g . Some complex queries using concatination --

select name , Lower(name) as low_name , concat(lower(name) ,"12345") as username,  length(name) as name_len from users;

-- " now" it is used to show the current time --
select name , Lower(name) as low_name , concat(lower(name) ,"12345") as username, now() as time from users;

select name , Lower(name) as low_name , concat(lower(name) ,"12345") as username, year(now()) as time from users;

select name , Lower(name) as low_name , concat(lower(name) ,"12345") as username, year(date_of_birth) as yob from users;

select name , Lower(name) as low_name , concat(lower(name) ,"12345") as username, day(now()) as DAY from users;

select name , Lower(name) as low_name , concat(lower(name) ,"12345") as username, Month(now()) as Month from users;

select name , DATEDIFF(curdate(), date_of_birth) as days from users;

-- h. Mod function

select id , mod(id,2 ) as remainder from users;

-- i . If ()

select name , gender ,
			if ( gender = "Female" ,"Yes", "No") as is_female
from users;



## 14. Seprately added queries for Foreignkey in foreignkey.sql file.


15. Jionts
-- -- a. Inner Joint
-- select users.name ,users.gender, addresses.city , addresses.state, addresses.street , addresses.id as addresses_id
-- from users
-- inner join addresses on users.id = addresses.user_id;


-- -- b . Left Joint

-- select users.name ,users.gender, addresses.city , addresses.state, addresses.street , addresses.id as addresses_id
-- from users
-- Left join addresses on users.id = addresses.user_id;

-- -- c. Right Joint

-- select users.name ,users.gender, addresses.city , addresses.state, addresses.street , addresses.id as addresses_id
-- from users
-- Right join addresses on users.id = addresses.user_id;


-- 16. SQL UNION and UNION ALL
use startersql;
CREATE TABLE admin_users (
id INT PRIMARY KEY,
 name VARCHAR(100),
 email VARCHAR(100),
 gender ENUM('Male', 'Female', 'Other'),
 date_of_birth DATE,
 salary INT
);

INSERT INTO admin_users (id, name, email, gender, date_of_birth, salary) VALUES
(101, 'Anil Kumar', 'anil@example.com', 'Male', '1985-04-12', 60000),
(102, 'Pooja Sharma', 'pooja@example.com', 'Female', '1992-09-20', 58000),
(103, 'Rakesh Yadav', 'rakesh@example.com', 'Male', '1989-11-05', 54000),
(104, 'Fatima Begum', 'fatima@example.com', 'Female', '1990-06-30', 62000);


select * from admin_users;
select * from users;
 
 -- For Union (Used to removes duplicates by default.)
 select email , name  from users
 Union
 select email , name from admin_users;
 
 -- For Union All (used to return all the similar entity one after other)
 select name, email from users
 Union all
 select name, email from admin_users;
 
 -- Using Order By in Union
 select name, email, date_of_birth from users
 Union
 select name, email, date_of_birth from admin_users
 Order by date_of_birth;
 
 
 -- Imp Queries 
 select email , name , 'user' as Role from users
 Union
 select email ,name ,'admin' as Role_name from admin_users;
 


 
 


